const RESPONSE = {
    "components": {
        "gene_a": {
            "features": [
                0.0,
                0.0,
                0.0,
                0.0,
                0.0,
                0.0,
                0.0,
                0.0,
                0.0,
                0.0,
                0.0,
                0.0,
                1.0,
                0.0,
                0.0,
                0.0,
                0.0,
                0.0,
                0.0,
                0.0,
                1.0,
                0.0,
                0.0,
                0.0,
                0.0,
                0.0,
                0.0,
                0.0,
                0.0,
                0.0,
                0.0,
                0.0,
                1.0,
                0.0,
                0.0,
                0.0,
                0.0,
                0.0,
                0.0,
                0.0,
                0.0,
                0.0,
                1.0,
                0.0,
                0.0,
                0.0,
                0.0,
                0.0,
                1.0211089034702696
            ],
            "labels": [
                "Lethal",
                "Reduced Growth",
                "Normal",
                "Cell morphogenesis",
                "DNA binding",
                "RNA binding",
                "Structural constituent of ribosome",
                "GTPase activity",
                "Nuclease activity",
                "Nucleus",
                "Chromosome",
                "Nucleolus",
                "Mitochondrion",
                "Vacuole",
                "Peroxisome",
                "Endoplasmic reticulum",
                "Golgi apparatus",
                "Cytoskeleton",
                "Plasma membrane",
                "Carbohydrate metabolic process",
                "Generation of precursor metabolites and energy",
                "Protein folding",
                "Cellular amino acid metabolic process",
                "Protein targeting",
                "Lipid metabolic process",
                "Mitochondrion organization",
                "Cytoskeletal protein binding",
                "Transcription factor binding",
                "Methyltransferase activity",
                "Peptidase activity",
                "Lipid binding",
                "Kinase activity",
                "Oxidoreductase activity",
                "Transferase activity, transferring glycosyl groups",
                "Nucleotidyltransferase activity",
                "Phosphatase activity",
                "Hydrolase activity, acting on glycosyl bonds",
                "Lyase activity",
                "Isomerase activity",
                "Ligase activity",
                "ATPase activity",
                "Enzyme binding",
                "Transmembrane transporter activity",
                "Enzyme regulator activity",
                "Histone binding",
                "Unfolded protein binding",
                "Cofactor metabolic process",
                "Protein maturation",
                "LID"
            ]
        },
        "gene_b": {
            "features": [
                0.0,
                0.0,
                1.0,
                0.0,
                0.0,
                0.0,
                0.0,
                0.0,
                0.0,
                0.0,
                0.0,
                0.0,
                0.0,
                0.0,
                0.0,
                1.0,
                0.0,
                0.0,
                1.0,
                0.0,
                0.0,
                0.0,
                0.0,
                0.0,
                0.0,
                0.0,
                0.0,
                0.0,
                0.0,
                0.0,
                0.0,
                0.0,
                0.0,
                0.0,
                0.0,
                0.0,
                0.0,
                0.0,
                0.0,
                0.0,
                0.0,
                0.0,
                0.0,
                0.0,
                0.0,
                0.0,
                0.0,
                0.0,
                -0.600252658429233
            ],
            "labels": [
                "Lethal",
                "Reduced Growth",
                "Normal",
                "Cell morphogenesis",
                "DNA binding",
                "RNA binding",
                "Structural constituent of ribosome",
                "GTPase activity",
                "Nuclease activity",
                "Nucleus",
                "Chromosome",
                "Nucleolus",
                "Mitochondrion",
                "Vacuole",
                "Peroxisome",
                "Endoplasmic reticulum",
                "Golgi apparatus",
                "Cytoskeleton",
                "Plasma membrane",
                "Carbohydrate metabolic process",
                "Generation of precursor metabolites and energy",
                "Protein folding",
                "Cellular amino acid metabolic process",
                "Protein targeting",
                "Lipid metabolic process",
                "Mitochondrion organization",
                "Cytoskeletal protein binding",
                "Transcription factor binding",
                "Methyltransferase activity",
                "Peptidase activity",
                "Lipid binding",
                "Kinase activity",
                "Oxidoreductase activity",
                "Transferase activity, transferring glycosyl groups",
                "Nucleotidyltransferase activity",
                "Phosphatase activity",
                "Hydrolase activity, acting on glycosyl bonds",
                "Lyase activity",
                "Isomerase activity",
                "Ligase activity",
                "ATPase activity",
                "Enzyme binding",
                "Transmembrane transporter activity",
                "Enzyme regulator activity",
                "Histone binding",
                "Unfolded protein binding",
                "Cofactor metabolic process",
                "Protein maturation",
                "LID"
            ]
        },
        "joint": {
            "features": [
                0.0,
                0.0,
                0.0,
                0.0,
                0.0,
                0.0,
                0.0,
                0.0,
                0.0,
                0.0,
                0.0,
                0.0,
                0.0,
                0.0,
                0.0,
                1.0,
                0.0,
                0.0,
                1.0,
                0.0,
                0.0,
                1.0,
                0.0,
                1.0,
                0.0,
                0.0,
                0.0,
                0.0,
                0.0,
                0.0,
                0.0,
                0.0,
                0.0,
                0.0,
                0.0,
                1.0,
                0.0,
                0.0,
                0.0,
                0.0,
                0.0,
                0.0,
                0.0,
                0.0,
                0.0,
                1.0,
                0.0,
                0.0,
                0.0,
                0.0,
                0.0,
                0.27740745585384186,
                0.4208562450410366
            ],
            "labels": [
                "Lethal/Lethal",
                "Lethal/Reduced Growth",
                "Lethal/Normal",
                "Reduced Growth/Reduced Growth",
                "Reduced Growth/Normal",
                "Normal/Normal",
                "Cell morphogenesis (Sum)",
                "DNA binding (Sum)",
                "RNA binding (Sum)",
                "Structural constituent of ribosome (Sum)",
                "GTPase activity (Sum)",
                "Nuclease activity (Sum)",
                "Nucleus (Sum)",
                "Chromosome (Sum)",
                "Nucleolus (Sum)",
                "Mitochondrion (Sum)",
                "Vacuole (Sum)",
                "Peroxisome (Sum)",
                "Endoplasmic reticulum (Sum)",
                "Golgi apparatus (Sum)",
                "Cytoskeleton (Sum)",
                "Plasma membrane (Sum)",
                "Carbohydrate metabolic process (Sum)",
                "Generation of precursor metabolites and energy (Sum)",
                "Protein folding (Sum)",
                "Cellular amino acid metabolic process (Sum)",
                "Protein targeting (Sum)",
                "Lipid metabolic process (Sum)",
                "Mitochondrion organization (Sum)",
                "Cytoskeletal protein binding (Sum)",
                "Transcription factor binding (Sum)",
                "Methyltransferase activity (Sum)",
                "Peptidase activity (Sum)",
                "Lipid binding (Sum)",
                "Kinase activity (Sum)",
                "Oxidoreductase activity (Sum)",
                "Transferase activity, transferring glycosyl groups (Sum)",
                "Nucleotidyltransferase activity (Sum)",
                "Phosphatase activity (Sum)",
                "Hydrolase activity, acting on glycosyl bonds (Sum)",
                "Lyase activity (Sum)",
                "Isomerase activity (Sum)",
                "Ligase activity (Sum)",
                "ATPase activity (Sum)",
                "Enzyme binding (Sum)",
                "Transmembrane transporter activity (Sum)",
                "Enzyme regulator activity (Sum)",
                "Histone binding (Sum)",
                "Unfolded protein binding (Sum)",
                "Cofactor metabolic process (Sum)",
                "Protein maturation (Sum)",
                "Shortest Path Length",
                "LID (sum)"
            ]
        },
        "z": {
            "features": [
                1.1856179237365723,
                -0.0,
                -0.0,
                -0.0,
                -0.0,
                -0.0,
                -0.0,
                0.0,
                -0.0,
                -0.0,
                -0.0,
                0.0,
                0.0,
                0.0,
                0.0,
                -0.0,
                0.021993795409798622,
                -0.0,
                -0.0,
                0.8152721524238586,
                0.0,
                0.0,
                0.09499414265155792,
                -0.0,
                0.02285720407962799,
                0.0,
                -0.0,
                0.0,
                0.0,
                -0.0,
                0.0,
                -0.0,
                0.0,
                -0.0,
                0.0,
                0.0,
                -0.127348393201828,
                0.0,
                -0.0,
                0.0,
                -0.0,
                0.0,
                -0.0,
                -0.0,
                0.0,
                0.0,
                -0.2650327682495117,
                0.0,
                0.0,
                -0.0,
                -0.0,
                0.0,
                -0.11646747602060202,
                0.06473052958607065
            ],
            "labels": [
                "Bias",
                "Lethal/Lethal",
                "Lethal/Reduced Growth",
                "Lethal/Normal",
                "Reduced Growth/Reduced Growth",
                "Reduced Growth/Normal",
                "Normal/Normal",
                "Cell morphogenesis (Sum)",
                "DNA binding (Sum)",
                "RNA binding (Sum)",
                "Structural constituent of ribosome (Sum)",
                "GTPase activity (Sum)",
                "Nuclease activity (Sum)",
                "Nucleus (Sum)",
                "Chromosome (Sum)",
                "Nucleolus (Sum)",
                "Mitochondrion (Sum)",
                "Vacuole (Sum)",
                "Peroxisome (Sum)",
                "Endoplasmic reticulum (Sum)",
                "Golgi apparatus (Sum)",
                "Cytoskeleton (Sum)",
                "Plasma membrane (Sum)",
                "Carbohydrate metabolic process (Sum)",
                "Generation of precursor metabolites and energy (Sum)",
                "Protein folding (Sum)",
                "Cellular amino acid metabolic process (Sum)",
                "Protein targeting (Sum)",
                "Lipid metabolic process (Sum)",
                "Mitochondrion organization (Sum)",
                "Cytoskeletal protein binding (Sum)",
                "Transcription factor binding (Sum)",
                "Methyltransferase activity (Sum)",
                "Peptidase activity (Sum)",
                "Lipid binding (Sum)",
                "Kinase activity (Sum)",
                "Oxidoreductase activity (Sum)",
                "Transferase activity, transferring glycosyl groups (Sum)",
                "Nucleotidyltransferase activity (Sum)",
                "Phosphatase activity (Sum)",
                "Hydrolase activity, acting on glycosyl bonds (Sum)",
                "Lyase activity (Sum)",
                "Isomerase activity (Sum)",
                "Ligase activity (Sum)",
                "ATPase activity (Sum)",
                "Enzyme binding (Sum)",
                "Transmembrane transporter activity (Sum)",
                "Enzyme regulator activity (Sum)",
                "Histone binding (Sum)",
                "Unfolded protein binding (Sum)",
                "Cofactor metabolic process (Sum)",
                "Protein maturation (Sum)",
                "Shortest Path Length",
                "LID (sum)"
            ]
        }
    },
    "pubs": []
};
const PLOT_HEIGHT_PIX = 1500;
const PLOT_WIDTH_PX = 400;

function main()
{
    const datas = [];

    const keys = ["gene_a", "gene_b", "joint", "z"];
    const titles = ["Gene A", "Gene B", "Joint Features", "Model Components"]
    keys.forEach((k, i) => {
        plot(k, RESPONSE.components[k], i == 1 || i == 3, titles[i]);
    })

}

function plot(elm, d, show_x, title)
{
    let labels = d.labels;
    let features = d.features;

    const colors = features.map((v) => v < 0 ? 'red' : 'blue');

    var data = [
        {
          type: 'bar',
          orientation: 'v',
          x: labels,
          y: features,
          marker: {
            color: colors
          },
        }]
        var layout = {
            title: title,
            margin: {
                l: 0,
                r: 0,
                b: 0,
                t: 20,
                pad: 0
            },
            paper_bgcolor: 'rgba(0,0,0,0)',
            plot_bgcolor: 'rgba(0,0,0,0)',
            height: 200,
            font: {
              size: 16,
              
              color: 'black'
            },
            yaxis: {
                showgrid: true,
                tickmode: 'linear',

                range: [-3, 3]
            },
            xaxis: {
                showgrid: true,
                tickmode: 'linear',
                automargin: false,
                tickangle: 90,
                showticklabels: show_x
            }
          };
    

    Plotly.newPlot(elm, data, layout);
    const cl = document.getElementById(elm).querySelector('.cartesianlayer');
    const rect = cl.getBoundingClientRect();
    document.getElementById(elm).style.height = rect.height + 'px';

}
window.onload = main;
